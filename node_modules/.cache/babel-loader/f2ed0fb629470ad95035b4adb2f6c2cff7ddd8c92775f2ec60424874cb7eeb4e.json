{"ast":null,"code":"import _objectSpread from\"/home/runner/work/dailyhoroscopetoday.org/dailyhoroscopetoday.org/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{Link,useLocation}from'react-router-dom';import LanguageSelector from'./LanguageSelector';import{useTheme}from'../theme/ThemeProvider';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Header=_ref=>{let{content={}}=_ref;const location=useLocation();const{theme}=useTheme();const[isMobileMenuOpen,setIsMobileMenuOpen]=useState(false);// 修复语言检测逻辑\nconst getCurrentLanguage=()=>{const pathname=location.pathname;// 如果路径以 /zh 开头，则为中文\nif(pathname.startsWith('/zh')){return'zh';}// 否则为英文\nreturn'en';};const currentLanguage=getCurrentLanguage();// 生成正确的首页路径\nconst getHomePath=()=>{return currentLanguage==='zh'?'/zh':'/';};const defaultContent={siteTitle:'Daily Horoscope',home:'Home',about:'About'};const finalContent=_objectSpread(_objectSpread({},defaultContent),content);return/*#__PURE__*/_jsx(\"header\",{className:\"bg-gradient-to-r \".concat(theme.colors.primary,\" text-white shadow-xl \").concat(theme.colors.shadow,\" backdrop-blur-sm\"),children:/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto px-6 py-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(Link,{to:getHomePath(),className:\"flex items-center space-x-3 group\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-3xl transform group-hover:scale-110 transition-transform duration-300\",children:\"\\u2728\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold bg-gradient-to-r from-white to-orange-100 bg-clip-text text-transparent\",children:finalContent.siteTitle})]}),/*#__PURE__*/_jsxs(\"nav\",{className:\"hidden md:flex items-center space-x-8\",children:[/*#__PURE__*/_jsxs(Link,{to:getHomePath(),className:\"relative px-4 py-2 rounded-full hover:bg-white/20 transition-all duration-300 group\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"relative z-10\",children:finalContent.home}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-gradient-to-r from-yellow-300/20 to-orange-300/20 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300\"})]}),/*#__PURE__*/_jsxs(Link,{to:currentLanguage==='zh'?'/zh/about':'/about',className:\"relative px-4 py-2 rounded-full hover:bg-white/20 transition-all duration-300 group\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"relative z-10\",children:finalContent.about}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-gradient-to-r from-yellow-300/20 to-orange-300/20 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"hidden md:block\",children:/*#__PURE__*/_jsx(LanguageSelector,{})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsMobileMenuOpen(!isMobileMenuOpen),className:\"md:hidden flex items-center justify-center w-10 h-10 rounded-lg bg-white/10 hover:bg-white/20 transition-colors\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col space-y-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"block w-5 h-0.5 bg-white transition-transform \".concat(isMobileMenuOpen?'rotate-45 translate-y-1.5':'')}),/*#__PURE__*/_jsx(\"span\",{className:\"block w-5 h-0.5 bg-white transition-opacity \".concat(isMobileMenuOpen?'opacity-0':'')}),/*#__PURE__*/_jsx(\"span\",{className:\"block w-5 h-0.5 bg-white transition-transform \".concat(isMobileMenuOpen?'-rotate-45 -translate-y-1.5':'')})]})})]}),isMobileMenuOpen&&/*#__PURE__*/_jsxs(\"div\",{className:\"md:hidden mt-4 pb-4 border-t border-white/20\",children:[/*#__PURE__*/_jsxs(\"nav\",{className:\"flex flex-col space-y-2 mt-4\",children:[/*#__PURE__*/_jsx(Link,{to:getHomePath(),className:\"px-4 py-3 rounded-lg hover:bg-white/10 transition-colors\",onClick:()=>setIsMobileMenuOpen(false),children:finalContent.home}),/*#__PURE__*/_jsx(Link,{to:currentLanguage==='zh'?'/zh/about':'/about',className:\"px-4 py-3 rounded-lg hover:bg-white/10 transition-colors\",onClick:()=>setIsMobileMenuOpen(false),children:finalContent.about})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 pt-4 border-t border-white/20\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center\",children:/*#__PURE__*/_jsx(LanguageSelector,{})})})]})]})});};export default Header;","map":{"version":3,"names":["React","useState","Link","useLocation","LanguageSelector","useTheme","jsx","_jsx","jsxs","_jsxs","Header","_ref","content","location","theme","isMobileMenuOpen","setIsMobileMenuOpen","getCurrentLanguage","pathname","startsWith","currentLanguage","getHomePath","defaultContent","siteTitle","home","about","finalContent","_objectSpread","className","concat","colors","primary","shadow","children","to","onClick"],"sources":["/home/runner/work/dailyhoroscopetoday.org/dailyhoroscopetoday.org/src/components/common/Header.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport LanguageSelector from './LanguageSelector';\nimport { useTheme } from '../theme/ThemeProvider';\n\nconst Header = ({ content = {} }) => {\n  const location = useLocation();\n  const { theme } = useTheme();\n  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);\n  \n  // 修复语言检测逻辑\n  const getCurrentLanguage = () => {\n    const pathname = location.pathname;\n    // 如果路径以 /zh 开头，则为中文\n    if (pathname.startsWith('/zh')) {\n      return 'zh';\n    }\n    // 否则为英文\n    return 'en';\n  };\n  \n  const currentLanguage = getCurrentLanguage();\n  \n  // 生成正确的首页路径\n  const getHomePath = () => {\n    return currentLanguage === 'zh' ? '/zh' : '/';\n  };\n\n  const defaultContent = {\n    siteTitle: 'Daily Horoscope',\n    home: 'Home',\n    about: 'About'\n  };\n\n  const finalContent = { ...defaultContent, ...content };\n\n  return (\n    <header className={`bg-gradient-to-r ${theme.colors.primary} text-white shadow-xl ${theme.colors.shadow} backdrop-blur-sm`}>\n      <div className=\"container mx-auto px-6 py-5\">\n        <div className=\"flex items-center justify-between\">\n          {/* Logo */}\n          <Link to={getHomePath()} className=\"flex items-center space-x-3 group\">\n            <span className=\"text-3xl transform group-hover:scale-110 transition-transform duration-300\">✨</span>\n            <h1 className=\"text-2xl font-bold bg-gradient-to-r from-white to-orange-100 bg-clip-text text-transparent\">\n              {finalContent.siteTitle}\n            </h1>\n          </Link>\n\n          {/* Desktop Navigation */}\n          <nav className=\"hidden md:flex items-center space-x-8\">\n            <Link \n              to={getHomePath()} \n              className=\"relative px-4 py-2 rounded-full hover:bg-white/20 transition-all duration-300 group\"\n            >\n              <span className=\"relative z-10\">{finalContent.home}</span>\n              <div className=\"absolute inset-0 bg-gradient-to-r from-yellow-300/20 to-orange-300/20 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300\"></div>\n            </Link>\n            <Link \n              to={currentLanguage === 'zh' ? '/zh/about' : '/about'} \n              className=\"relative px-4 py-2 rounded-full hover:bg-white/20 transition-all duration-300 group\"\n            >\n              <span className=\"relative z-10\">{finalContent.about}</span>\n              <div className=\"absolute inset-0 bg-gradient-to-r from-yellow-300/20 to-orange-300/20 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300\"></div>\n            </Link>\n          </nav>\n\n          {/* Desktop Language Selector */}\n          <div className=\"hidden md:block\">\n            <LanguageSelector />\n          </div>\n\n          {/* Mobile Menu Button */}\n          <button\n            onClick={() => setIsMobileMenuOpen(!isMobileMenuOpen)}\n            className=\"md:hidden flex items-center justify-center w-10 h-10 rounded-lg bg-white/10 hover:bg-white/20 transition-colors\"\n          >\n            <div className=\"flex flex-col space-y-1\">\n              <span className={`block w-5 h-0.5 bg-white transition-transform ${isMobileMenuOpen ? 'rotate-45 translate-y-1.5' : ''}`}></span>\n              <span className={`block w-5 h-0.5 bg-white transition-opacity ${isMobileMenuOpen ? 'opacity-0' : ''}`}></span>\n              <span className={`block w-5 h-0.5 bg-white transition-transform ${isMobileMenuOpen ? '-rotate-45 -translate-y-1.5' : ''}`}></span>\n            </div>\n          </button>\n        </div>\n\n        {/* Mobile Menu */}\n        {isMobileMenuOpen && (\n          <div className=\"md:hidden mt-4 pb-4 border-t border-white/20\">\n            <nav className=\"flex flex-col space-y-2 mt-4\">\n              <Link \n                to={getHomePath()} \n                className=\"px-4 py-3 rounded-lg hover:bg-white/10 transition-colors\"\n                onClick={() => setIsMobileMenuOpen(false)}\n              >\n                {finalContent.home}\n              </Link>\n              <Link \n                to={currentLanguage === 'zh' ? '/zh/about' : '/about'} \n                className=\"px-4 py-3 rounded-lg hover:bg-white/10 transition-colors\"\n                onClick={() => setIsMobileMenuOpen(false)}\n              >\n                {finalContent.about}\n              </Link>\n            </nav>\n            \n            {/* Mobile Language Selector */}\n            <div className=\"mt-4 pt-4 border-t border-white/20\">\n              <div className=\"flex justify-center\">\n                <LanguageSelector />\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </header>\n  );\n};\n\nexport default Header;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}